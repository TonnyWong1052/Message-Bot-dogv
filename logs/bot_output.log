2025-04-21 15:57:04,067 - llm_client - INFO - Loaded providers from api.providers package
2025-04-21 15:57:04,074 - telethon.crypto.aes - INFO - libssl detected, it will be used for encryption
/Users/tomleung/Downloads/ws-tg-llm-bot/src/platforms/telegram/commands/basic_commands.py:217: SyntaxWarning: invalid escape sequence '\_'
  """
/Users/tomleung/Downloads/ws-tg-llm-bot/src/platforms/telegram/commands/basic_commands.py:231: SyntaxWarning: invalid escape sequence '\_'
  """
/Users/tomleung/Downloads/ws-tg-llm-bot/src/platforms/telegram/commands/basic_commands.py:240: SyntaxWarning: invalid escape sequence '\|'
  """
/Users/tomleung/Downloads/ws-tg-llm-bot/src/platforms/telegram/commands/basic_commands.py:258: SyntaxWarning: invalid escape sequence '\_'
  """
2025-04-21 15:57:04,489 - llm_client - INFO - Registered LLM provider: grok
2025-04-21 15:57:04,489 - llm_client - INFO - Grok provider registered
2025-04-21 15:57:04,513 - llm_client - INFO - Registered LLM provider: deepseek
2025-04-21 15:57:04,513 - llm_client - INFO - DeepSeek provider registered
2025-04-21 15:57:04,513 - llm_client - INFO - Registered LLM provider: openai
2025-04-21 15:57:04,513 - llm_client - INFO - OpenAI provider registered (using GitHub API)
2025-04-21 15:57:04,513 - llm_client - INFO - Registered LLM provider: deepseek
2025-04-21 15:57:04,513 - llm_client - INFO - Registered LLM provider: github
2025-04-21 15:57:04,513 - llm_client - INFO - Registered LLM provider: grok
2025-04-21 15:57:04,515 - llm_client - INFO - Registered LLM provider: grok
2025-04-21 15:57:04,515 - llm_client - INFO - Grok provider registered
2025-04-21 15:57:04,537 - llm_client - INFO - Registered LLM provider: deepseek
2025-04-21 15:57:04,537 - llm_client - INFO - DeepSeek provider registered
2025-04-21 15:57:04,537 - llm_client - INFO - Registered LLM provider: openai
2025-04-21 15:57:04,537 - llm_client - INFO - OpenAI provider registered (using GitHub API)
2025-04-21 15:57:04,537 - telegram_bot - INFO - LLM client initialized successfully
2025-04-21 15:57:04,537 - telegram_bot - INFO - Registered providers: ['grok', 'deepseek', 'openai']
2025-04-21 15:57:04,537 - telegram_basic_commands - INFO - Basic command handlers registered
2025-04-21 15:57:04,537 - telegram_bot - INFO - Basic command handlers registered
2025-04-21 15:57:04,537 - telegram_bot - INFO - Initializing LLM command handlers
2025-04-21 15:57:04,537 - telegram_llm_commands - INFO - LLM command handlers registered
2025-04-21 15:57:04,537 - telegram_bot - INFO - LLM command handlers registered
2025-04-21 15:57:04,537 - telegram_bot - INFO - Telegram bot initialized
2025-04-21 15:57:04,537 - main - INFO - Initialized telegram bot
2025-04-21 15:57:04,537 - telegram_bot - INFO - Telegram bot is starting
2025-04-21 15:57:04,537 - telegram_bot - INFO - Running in non-interactive mode, using session-only authentication
2025-04-21 15:57:04,537 - telethon.network.mtprotosender - INFO - Connecting to 91.108.56.119:443/TcpFull...
2025-04-21 15:57:04,551 - telethon.network.mtprotosender - INFO - Connection to 91.108.56.119:443/TcpFull complete!
2025-04-21 15:57:04,887 - telegram_bot - INFO - Telegram bot is running...
2025-04-21 15:57:04,888 - main - INFO - Started telegram bot
2025-04-21 15:57:04,888 - main - INFO - Running 1 bot(s). Press Ctrl+C to stop.
2025-04-21 15:57:07,275 - telethon.client.updates - INFO - Got difference for channel 2578807728 updates
2025-04-21 15:57:16,470 - telethon.client.updates - INFO - Got difference for account updates
2025-04-21 15:57:16,542 - telethon.client.updates - INFO - Got difference for channel 2578807728 updates
2025-04-21 15:57:27,556 - telethon.client.updates - INFO - Got difference for account updates
2025-04-21 15:57:28,156 - telethon.client.updates - INFO - Got difference for channel 2321047855 updates
2025-04-21 15:58:01,770 - telethon.client.updates - INFO - Got difference for channel 2118057217 updates
2025-04-21 15:58:41,741 - telethon.client.updates - INFO - Got difference for channel 2118057217 updates
2025-04-21 16:00:46,604 - telethon.client.updates - INFO - Got difference for channel 2321047855 updates
2025-04-21 16:01:41,895 - telethon.client.updates - INFO - Got difference for channel 2118057217 updates
2025-04-21 16:01:48,916 - telethon.client.updates - INFO - Got difference for channel 2118057217 updates
2025-04-21 16:01:48,984 - telethon.client.updates - INFO - Got difference for channel 2321047855 updates
2025-04-21 16:03:05,509 - telethon.client.updates - INFO - Got difference for channel 2321047855 updates
2025-04-21 16:04:52,743 - telethon.client.updates - INFO - Got difference for channel 2321047855 updates
2025-04-21 16:06:42,628 - telethon.client.updates - INFO - Got difference for channel 2321047855 updates
2025-04-21 16:06:46,050 - telethon.client.updates - INFO - Got difference for account updates
2025-04-21 16:09:05,599 - telethon.client.updates - INFO - Got difference for channel 2321047855 updates
2025-04-21 16:09:37,816 - telethon.client.updates - INFO - Got difference for channel 2118057217 updates
2025-04-21 16:10:39,465 - telethon.client.updates - INFO - Got difference for channel 2321047855 updates
2025-04-21 16:10:39,603 - telethon.client.updates - INFO - Got difference for channel 2118057217 updates
2025-04-21 16:13:59,765 - telethon.client.updates - INFO - Got difference for channel 2321047855 updates
2025-04-21 16:15:35,819 - telethon.client.updates - WARNING - Cannot get difference for channel 2321047855 since the account is likely misusing the session: attempt to write a readonly database
2025-04-21 16:15:35,820 - telethon.network.mtprotosender - INFO - Disconnecting from 91.108.56.119:443/TcpFull...
2025-04-21 16:15:35,820 - telethon.network.mtprotosender - INFO - Disconnection from 91.108.56.119:443/TcpFull complete!
2025-04-21 16:15:35,821 - telethon.client.telegrambaseclient - ERROR - Unhandled exception from keepalive_handle after cancelling <class '_asyncio.Task'> (<Task finished name='Task-8' coro=<UpdateMethods._keepalive_loop() done, defined at /Users/tomleung/.local/lib/python3.12/site-packages/telethon/client/updates.py:481> exception=OperationalError('attempt to write a readonly database')>)
Traceback (most recent call last):
  File "/Users/tomleung/.local/lib/python3.12/site-packages/telethon/helpers.py", line 176, in _cancel
    await task
  File "/Users/tomleung/.local/lib/python3.12/site-packages/telethon/client/updates.py", line 517, in _keepalive_loop
    self._save_states_and_entities()
  File "/Users/tomleung/.local/lib/python3.12/site-packages/telethon/client/telegrambaseclient.py", line 694, in _save_states_and_entities
    self.session.process_entities(types.contacts.ResolvedPeer(None, [e._as_input_peer() for e in entities], []))
  File "/Users/tomleung/.local/lib/python3.12/site-packages/telethon/sessions/sqlite.py", line 301, in process_entities
    c.executemany(
sqlite3.OperationalError: attempt to write a readonly database
2025-04-21 16:15:35,827 - asyncio - ERROR - Task exception was never retrieved
future: <Task finished name='Task-766' coro=<TelegramBaseClient._disconnect_coro() done, defined at /Users/tomleung/.local/lib/python3.12/site-packages/telethon/client/telegrambaseclient.py:707> exception=OperationalError('attempt to write a readonly database')>
Traceback (most recent call last):
  File "/Users/tomleung/.local/lib/python3.12/site-packages/telethon/client/telegrambaseclient.py", line 737, in _disconnect_coro
    self._save_states_and_entities()
  File "/Users/tomleung/.local/lib/python3.12/site-packages/telethon/client/telegrambaseclient.py", line 694, in _save_states_and_entities
    self.session.process_entities(types.contacts.ResolvedPeer(None, [e._as_input_peer() for e in entities], []))
  File "/Users/tomleung/.local/lib/python3.12/site-packages/telethon/sessions/sqlite.py", line 301, in process_entities
    c.executemany(
sqlite3.OperationalError: attempt to write a readonly database
2025-04-21 16:15:35,827 - telethon.network.mtprotosender - INFO - Not disconnecting (already have no connection)
2025-04-21 16:15:35,827 - telethon.client.telegrambaseclient - ERROR - Unhandled exception from keepalive_handle after cancelling <class '_asyncio.Task'> (<Task finished name='Task-8' coro=<UpdateMethods._keepalive_loop() done, defined at /Users/tomleung/.local/lib/python3.12/site-packages/telethon/client/updates.py:481> exception=OperationalError('attempt to write a readonly database')>)
Traceback (most recent call last):
  File "/Users/tomleung/.local/lib/python3.12/site-packages/telethon/helpers.py", line 176, in _cancel
    await task
sqlite3.OperationalError: attempt to write a readonly database
2025-04-21 16:15:35,828 - main - CRITICAL - Unhandled exception: attempt to write a readonly database
MCP config file not found at /Users/tomleung/Downloads/ws-tg-llm-bot/config/mcp_config.json
